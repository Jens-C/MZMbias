import matplotlib.pyplot as plt
import re
data = """
 phase: -1310 new dac val: 1898
 phase: -29 new dac val: 1896
 phase: 809 new dac val: 1898
 phase: -595 new dac val: 1896
 phase: -1449 new dac val: 1894
 phase: -1819 new dac val: 1892
 phase: -2279 new dac val: 1890
 phase: -2194 new dac val: 1888
 phase: -2235 new dac val: 1886
 phase: -2298 new dac val: 1884
 phase: -2282 new dac val: 1882
 phase: -2266 new dac val: 1880
 phase: -2251 new dac val: 1878
 phase: -2269 new dac val: 1876
 phase: -2230 new dac val: 1874
 phase: -2296 new dac val: 1872
 phase: -2223 new dac val: 1870
 phase: -2259 new dac val: 1868
 phase: -2263 new dac val: 1866
 phase: -2242 new dac val: 1864
 phase: -2105 new dac val: 1862
 phase: -1038 new dac val: 1860
 phase: -1810 new dac val: 1858
 phase: -1329 new dac val: 1856
 phase: -557 new dac val: 1854
 phase: -42 new dac val: 1852
 phase: 701 new dac val: 1854
 phase: -1659 new dac val: 1852
 phase: -958 new dac val: 1850
 phase: 21 new dac val: 1852
 phase: -2139 new dac val: 1850
 phase: -1554 new dac val: 1848
 phase: 6 new dac val: 1850
 phase: -2285 new dac val: 1848
 phase: -2202 new dac val: 1846
 phase: -1716 new dac val: 1844
 phase: -1042 new dac val: 1842
 phase: -701 new dac val: 1840
 phase: 117 new dac val: 1842
 phase: -1731 new dac val: 1840
 phase: -1199 new dac val: 1838
 phase: 114 new dac val: 1840
 phase: -2002 new dac val: 1838
 phase: -1099 new dac val: 1836
 phase: -689 new dac val: 1834
 phase: 39 new dac val: 1836
 phase: -1598 new dac val: 1834
 phase: -1438 new dac val: 1832
 phase: -497 new dac val: 1830
 phase: 541 new dac val: 1832
 phase: -1129 new dac val: 1830
 phase: -771 new dac val: 1828
 phase: 429 new dac val: 1830
 phase: -1250 new dac val: 1828
 phase: -877 new dac val: 1826
 phase: 387 new dac val: 1828
 phase: -883 new dac val: 1826
 phase: -488 new dac val: 1824
 phase: 437 new dac val: 1826
 phase: -1395 new dac val: 1824
 phase: -343 new dac val: 1822
 phase: 521 new dac val: 1824
 phase: -1479 new dac val: 1822
 phase: -285 new dac val: 1820
 phase: 197 new dac val: 1822
 phase: -1753 new dac val: 1820
 phase: -827 new dac val: 1818
 phase: -397 new dac val: 1816
 phase: 491 new dac val: 1818
 phase: -1178 new dac val: 1816
 phase: -819 new dac val: 1814
 phase: -445 new dac val: 1812
 phase: 403 new dac val: 1814
 phase: -1769 new dac val: 1812
 phase: -1257 new dac val: 1810
 phase: -656 new dac val: 1808
 phase: -225 new dac val: 1806
 phase: 615 new dac val: 1808
 phase: -822 new dac val: 1806
 phase: -640 new dac val: 1804
 phase: 423 new dac val: 1806
 phase: -1780 new dac val: 1804
 phase: -669 new dac val: 1802
 phase: -67 new dac val: 1800
 phase: 459 new dac val: 1802
 phase: -1476 new dac val: 1800
 phase: -766 new dac val: 1798
 phase: -431 new dac val: 1796
 phase: 503 new dac val: 1798
 phase: -1282 new dac val: 1796
 phase: -1145 new dac val: 1794
 phase: 565 new dac val: 1796
 phase: -1662 new dac val: 1794
 phase: -1025 new dac val: 1792
 phase: 11 new dac val: 1794
 phase: -1849 new dac val: 1792
 phase: -786 new dac val: 1790
 phase: -773 new dac val: 1788
 phase: 60 new dac val: 1790
 phase: -1355 new dac val: 1788
 phase: -943 new dac val: 1786
 phase: -537 new dac val: 1784
 phase: 506 new dac val: 1786
 phase: -1232 new dac val: 1784
 phase: -976 new dac val: 1782
 phase: 37 new dac val: 1784
 phase: -1933 new dac val: 1782
 phase: -1506 new dac val: 1780
 phase: -632 new dac val: 1778
 phase: -683 new dac val: 1776
 phase: 284 new dac val: 1778
 phase: -1405 new dac val: 1776
 phase: -928 new dac val: 1774
 phase: -643 new dac val: 1772
 phase: -231 new dac val: 1770
 phase: 643 new dac val: 1772
 phase: -887 new dac val: 1770
 phase: -647 new dac val: 1768
 phase: -9 new dac val: 1766
 phase: 540 new dac val: 1768
 phase: -1733 new dac val: 1766
 phase: -976 new dac val: 1764
 phase: -442 new dac val: 1762
 phase: -179 new dac val: 1760
 phase: 723 new dac val: 1762
 phase: -1028 new dac val: 1760
 phase: -655 new dac val: 1758
 phase: -608 new dac val: 1756
 phase: 636 new dac val: 1758
 phase: -1218 new dac val: 1756
 phase: -1126 new dac val: 1754
 phase: -905 new dac val: 1752
 phase: -158 new dac val: 1750
 phase: 156 new dac val: 1752
 phase: -2068 new dac val: 1750
 phase: -1764 new dac val: 1748
 phase: -1314 new dac val: 1746
 phase: -1070 new dac val: 1744
 phase: -1073 new dac val: 1742
 phase: -758 new dac val: 1740
 phase: -787 new dac val: 1738
 phase: -182 new dac val: 1736
 phase: 489 new dac val: 1738
 phase: -1629 new dac val: 1736
 phase: -1549 new dac val: 1734
 phase: -779 new dac val: 1732
 phase: -1068 new dac val: 1730
 phase: -954 new dac val: 1728
 phase: -762 new dac val: 1726
 phase: -1170 new dac val: 1724
 phase: -522 new dac val: 1722
 phase: -237 new dac val: 1720
 phase: -578 new dac val: 1718
 phase: -8 new dac val: 1716
 phase: -367 new dac val: 1714
 phase: -33 new dac val: 1712
 phase: 398 new dac val: 1714
 phase: -1796 new dac val: 1712
 phase: -1779 new dac val: 1710
 phase: -1757 new dac val: 1708
 phase: -1770 new dac val: 1706
 phase: -1724 new dac val: 1704
 phase: -1354 new dac val: 1702
 phase: -835 new dac val: 1700
 phase: -1269 new dac val: 1698
 phase: -1147 new dac val: 1696
 phase: -713 new dac val: 1694
 phase: -1255 new dac val: 1692
 phase: -1173 new dac val: 1690
 phase: -1374 new dac val: 1688
 phase: -985 new dac val: 1686
 phase: -1329 new dac val: 1684
 phase: -786 new dac val: 1682
 phase: -857 new dac val: 1680
 phase: -333 new dac val: 1678
 phase: -91 new dac val: 1676
 phase: 275 new dac val: 1678
 phase: -1678 new dac val: 1676
 phase: -1667 new dac val: 1674
 phase: -1485 new dac val: 1672
 phase: -1428 new dac val: 1670
 phase: -629 new dac val: 1668
 phase: -493 new dac val: 1666
 phase: -349 new dac val: 1664
 phase: -148 new dac val: 1662
 phase: 93 new dac val: 1664
 phase: -1523 new dac val: 1662
 phase: -548 new dac val: 1660
 phase: -356 new dac val: 1658
 phase: 219 new dac val: 1660
 phase: -1211 new dac val: 1658
 phase: -1198 new dac val: 1656
 phase: -916 new dac val: 1654
 phase: -384 new dac val: 1652
 phase: -263 new dac val: 1650
 phase: 478 new dac val: 1652
 phase: -553 new dac val: 1650
 phase: -244 new dac val: 1648
 phase: 288 new dac val: 1650
 phase: -865 new dac val: 1648
 phase: -394 new dac val: 1646
 phase: 87 new dac val: 1648
 phase: -1419 new dac val: 1646
 phase: -635 new dac val: 1644
 phase: -479 new dac val: 1642
 phase: 159 new dac val: 1644
 phase: -1132 new dac val: 1642
 phase: -104 new dac val: 1640
 phase: 99 new dac val: 1642
 phase: -990 new dac val: 1640
 phase: -791 new dac val: 1638
 phase: -370 new dac val: 1636
 phase: 422 new dac val: 1638
 phase: -687 new dac val: 1636
 phase: 45 new dac val: 1638
 phase: -984 new dac val: 1636
 phase: -504 new dac val: 1634
 phase: -193 new dac val: 1632
 phase: 461 new dac val: 1634
 phase: -426 new dac val: 1632
 phase: 348 new dac val: 1634
 phase: -1252 new dac val: 1632
 phase: -1017 new dac val: 1630
 phase: -527 new dac val: 1628
 phase: 252 new dac val: 1630
 phase: -293 new dac val: 1628
 phase: 166 new dac val: 1630
 phase: -1035 new dac val: 1628
 phase: -991 new dac val: 1626
 phase: 287 new dac val: 1628
 phase: -1079 new dac val: 1626
 phase: 134 new dac val: 1628
 phase: -839 new dac val: 1626
 phase: -440 new dac val: 1624
 phase: 268 new dac val: 1626
 phase: -1005 new dac val: 1624
 phase: -257 new dac val: 1622
 phase: 34 new dac val: 1624
 phase: -1001 new dac val: 1622
 phase: -269 new dac val: 1620
 phase: 649 new dac val: 1622
 phase: -678 new dac val: 1620
 phase: 356 new dac val: 1622
 phase: -885 new dac val: 1620
 phase: -59 new dac val: 1618
 phase: 582 new dac val: 1620
 phase: -665 new dac val: 1618
 phase: 362 new dac val: 1620
 phase: -848 new dac val: 1618
 phase: -676 new dac val: 1616
 phase: 575 new dac val: 1618
 phase: -316 new dac val: 1616
 phase: 131 new dac val: 1618
 phase: -690 new dac val: 1616
 phase: -380 new dac val: 1614
 phase: 576 new dac val: 1616
 phase: -220 new dac val: 1614
 phase: 717 new dac val: 1616
 phase: -665 new dac val: 1614
 phase: -236 new dac val: 1612
 phase: 602 new dac val: 1614
 phase: -483 new dac val: 1612
 phase: 650 new dac val: 1614
 phase: -453 new dac val: 1612
 phase: 360 new dac val: 1614
 phase: -496 new dac val: 1612
 phase: -96 new dac val: 1610
 phase: 562 new dac val: 1612
 phase: -353 new dac val: 1610
 phase: 234 new dac val: 1612
 phase: 113 new dac val: 1614
 phase: -1745 new dac val: 1612
 phase: -888 new dac val: 1610
 phase: -307 new dac val: 1608
 phase: 694 new dac val: 1610
 phase: -375 new dac val: 1608
 phase: 598 new dac val: 1610
 phase: -649 new dac val: 1608
 phase: -154 new dac val: 1606
 phase: 580 new dac val: 1608
 phase: -218 new dac val: 1606
 phase: 545 new dac val: 1608
 phase: -522 new dac val: 1606
 phase: 396 new dac val: 1608
 phase: -460 new dac val: 1606
 phase: -78 new dac val: 1604
 phase: 561 new dac val: 1606
 phase: -714 new dac val: 1604
 phase: 721 new dac val: 1606
 phase: -398 new dac val: 1604
 phase: 629 new dac val: 1606
 phase: -149 new dac val: 1604
 phase: 530 new dac val: 1606
 phase: -469 new dac val: 1604
 phase: 3 new dac val: 1606
 phase: -669 new dac val: 1604
 phase: -26 new dac val: 1602
 phase: 787 new dac val: 1604
 phase: -267 new dac val: 1602
 phase: 555 new dac val: 1604
 phase: -585 new dac val: 1602
 phase: 629 new dac val: 1604
 phase: -797 new dac val: 1602
 phase: -48 new dac val: 1600
 phase: 546 new dac val: 1602
 phase: -358 new dac val: 1600
 phase: 583 new dac val: 1602
 phase: -218 new dac val: 1600
 phase: 605 new dac val: 1602
 phase: -535 new dac val: 1600
 phase: 210 new dac val: 1602
 phase: -761 new dac val: 1600
 phase: -440 new dac val: 1598
 phase: 603 new dac val: 1600
 phase: -446 new dac val: 1598
 phase: 703 new dac val: 1600
 phase: -393 new dac val: 1598
 phase: 621 new dac val: 1600
 phase: -680 new dac val: 1598
 phase: 93 new dac val: 1600
 phase: -673 new dac val: 1598
 phase: -234 new dac val: 1596
 phase: 646 new dac val: 1598
 phase: 232 new dac val: 1600
 phase: -1242 new dac val: 1598
 phase: -674 new dac val: 1596
 phase: 455 new dac val: 1598
 phase: -462 new dac val: 1596
 phase: 366 new dac val: 1598
 phase: -658 new dac val: 1596
 phase: -213 new dac val: 1594
 phase: 577 new dac val: 1596
 phase: -104 new dac val: 1594
 phase: 600 new dac val: 1596
 phase: -156 new dac val: 1594
 phase: 655 new dac val: 1596
 phase: 182 new dac val: 1598
 phase: -932 new dac val: 1596
 phase: -592 new dac val: 1594
 phase: 176 new dac val: 1596
 phase: -734 new dac val: 1594
 phase: 203 new dac val: 1596
 phase: -607 new dac val: 1594
 phase: -164 new dac val: 1592
 phase: 618 new dac val: 1594
 phase: -585 new dac val: 1592
 phase: 694 new dac val: 1594
 phase: -368 new dac val: 1592
 phase: 369 new dac val: 1594
 phase: -322 new dac val: 1592
 phase: 543 new dac val: 1594
 phase: -238 new dac val: 1592
 phase: 133 new dac val: 1594
 phase: -347 new dac val: 1592
 phase: 407 new dac val: 1594
 phase: -212 new dac val: 1592
 phase: -106 new dac val: 1590
 phase: 655 new dac val: 1592
 phase: -247 new dac val: 1590
 phase: 780 new dac val: 1592
 phase: -337 new dac val: 1590
 phase: 603 new dac val: 1592
 phase: -748 new dac val: 1590
 phase: 75 new dac val: 1592
 phase: -633 new dac val: 1590
 phase: -218 new dac val: 1588
 phase: 706 new dac val: 1590
 phase: -426 new dac val: 1588
 phase: 602 new dac val: 1590
 phase: -235 new dac val: 1588
 phase: 782 new dac val: 1590
 phase: -362 new dac val: 1588
 phase: 536 new dac val: 1590
 phase: -588 new dac val: 1588
 phase: 677 new dac val: 1590
 phase: -418 new dac val: 1588
 phase: 51 new dac val: 1590
 phase: -413 new dac val: 1588
 phase: -124 new dac val: 1586
 phase: 710 new dac val: 1588
 phase: -19 new dac val: 1586
 phase: 655 new dac val: 1588
 phase: 53 new dac val: 1590
 phase: -1228 new dac val: 1588
 phase: -241 new dac val: 1586
 phase: 372 new dac val: 1588
 phase: -309 new dac val: 1586
 phase: 396 new dac val: 1588
 phase: -202 new dac val: 1586
 phase: 76 new dac val: 1588
 phase: -592 new dac val: 1586
 phase: -393 new dac val: 1584
 phase: 765 new dac val: 1586
 phase: -612 new dac val: 1584
 phase: 732 new dac val: 1586
 phase: -353 new dac val: 1584
 phase: 623 new dac val: 1586
 phase: -23 new dac val: 1584
 phase: 385 new dac val: 1586
 phase: -402 new dac val: 1584
 phase: 588 new dac val: 1586
 phase: -384 new dac val: 1584
 phase: 537 new dac val: 1586
 phase: -507 new dac val: 1584
 phase: 46 new dac val: 1586
 phase: -817 new dac val: 1584
 phase: -430 new dac val: 1582
 phase: 509 new dac val: 1584
 phase: 39 new dac val: 1586
 phase: -709 new dac val: 1584
 phase: -361 new dac val: 1582
 phase: 723 new dac val: 1584
 phase: -250 new dac val: 1582
 phase: 741 new dac val: 1584
 phase: -277 new dac val: 1582

"""

# Extract DAC values using regex
dac_values = [int(match.group(2)) for match in re.finditer(r"phase: (-?\d+) new dac val: (\d+)", data)]
voltages = [0.180 + (dac / 1800) * (6.0 - 0.180) for dac in dac_values]
# Generate sample numbers as x-axis
num_samples = len(dac_values)
time_values = [i * (180) / (num_samples - 1) for i in range(num_samples)]

# Plotting
plt.figure(figsize=(10, 5))
plt.plot(time_values, voltages, marker='o', linestyle='-', label='Voltage')
plt.xlabel('Time (minutes)')
plt.ylabel('Voltage (V)')
plt.title('Voltage vs Time (0 to 120 hours)')
plt.grid(True)
plt.legend()
plt.tight_layout()
plt.show()